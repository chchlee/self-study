@startuml

!define Table(name,desc) class name as "desc" << (T,#FFAAAA) >>
!define primary_key(x) <b>x</b>
!define foreign_key(x) #x#
Table(상품,"ProductID, ProductType, ProductName, ProductDescription")
Table(항공권,"TicketID, ProductID, FlightSchedule, Leg/Seg, Price")
Table(부가서비스,"ServiceID, ProductID, ServiceName, ServiceDescription, Price")
Table(제휴상품,"AffiliateProductID, ProductID, PartnerName, ProductName, ProductDescription, Price")
Table(액세서리,"AccessoryID, ProductID, AccessoryName, AccessoryDescription, Price")
Table(결합상품,"CombinedProductID, ProductID, CombinedProductName, CombinedProductDescription, Price")
Table(결합상품구성상세,"CombinedProductDetailID, CombinedProductID, ProductID")
Table(고객,"CustomerID, CustomerType, Name, Email, Phone, Address")
Table(개인고객,"IndividualCustomerID, CustomerID, MembershipType, DateOfBirth, Gender")
Table(법인고객,"CorporateCustomerID, CustomerID, CompanyName, CompanyAddress, CompanyPhone")
Table(정회원,"RegularMemberID, IndividualCustomerID, Username, Password, LoyaltyPoints")
Table(간편회원,"SimpleMemberID, IndividualCustomerID, SocialID, SocialType")
Table(법인고객직원,"CorporateEmployeeID, CorporateCustomerID, EmployeeID")
Table(법인우대혜택,"CorporateBenefitID, CorporateCustomerID, BenefitName, BenefitDescription, DiscountRate")
Table(고객식별,"CustomerIdentificationID, CustomerID, IdentificationType, IdentificationNumber")
Table(선호비행정보,"PreferredFlightInfoID, CustomerID, PreferredAirline, PreferredSeatType, PreferredMeal")
Table(PNR,"PNR_ID, CustomerID, ReservationDate, ReservationStatus")
Table(PAX,"PAX_ID, PNR_ID, Name, Age, Contact")
Table(SEG,"SEG_ID, PNR_ID, DepartureAirport, ArrivalAirport, DepartureTime, ArrivalTime")
Table(부가서비스예약내역,"AdditionalServiceReservationID, PAX_ID, SEG_ID, ServiceID")
Table(SSR,"SSR_ID, PAX_ID, SEG_ID, SpecialServiceRequest")
Table(티켓,"TicketID, PAX_ID, SEG_ID, TicketStatus, IssueDate, Fare, Tax")
Table(결제수단,"PaymentMethodID, TicketID, PaymentType, PaymentAmount, PaymentDate")
Table(환불,"RefundID, TicketID, RefundAmount, RefundDate, RefundStatus")
Table(환불결제수단,"RefundPaymentMethodID, RefundID, PaymentType, PaymentAmount, PaymentDate")
Table(환불세금,"RefundTaxID, RefundID, TaxType, TaxAmount")
Table(환불운임,"RefundFareID, RefundID, FareAmount")
Table(출도착,"ArrivalDepartureID, DepartureAirport, ArrivalAirport, RouteInfo, AccumulatedMileage")
Table(운항계획,"FlightPlanID, FlightNumber, DepartureAirport, ArrivalAirport, DepartureTime, ArrivalTime, OperatingDays, AircraftType")
Table(비행편정보,"FlightInfoID, FlightNumber, DepartureDate, ArrivalDate, DepartureTime, ArrivalTime, AircraftType, Status")
Table(좌석등급,"CabinClassID, FlightInfoID, ClassCode, ClassName, TotalSeats, AvailableSeats")
Table(운임,"FareID, CabinClassID, FareType, FareAmount, FareRules")
Table(할인,"DiscountID, FareID, DiscountType, DiscountAmount, DiscountRules")
Table(공항,"AirportID, AirportName, AirportCode, City, Country, TimeZone")
Table(터미널,"TerminalID, AirportID, TerminalName, TerminalCode")
Table(게이트,"GateID, TerminalID, GateName, GateCode")
Table(기내서비스,"InflightServiceID, FlightInfoID, ServiceType, ServiceDescription")
Table(기내식,"InflightMealID, InflightServiceID, MealType, MealDescription")
Table(기내엔터테인먼트,"InflightEntertainmentID, InflightServiceID, EntertainmentType, EntertainmentDescription")
Table(항공사,"AirlineID, AirlineName, AirlineCode, Alliance, HubAirport, Country")
Table(코드공유,"CodeShareID, OperatingAirlineID, MarketingAirlineID, OperatingFlightNumber, MarketingFlightNumber")
Table(직원,"EmployeeID, Name, Position, Department, Email, Phone")
Table(승무원,"CrewID, EmployeeID, CrewType, FlightInfoID, DepartureDate, ArrivalDate")
Table(조종사,"PilotID, EmployeeID, LicenseNumber, FlightInfoID, DepartureDate, ArrivalDate")

고객 -- 개인고객: primary_key(CustomerID) -- foreign_key(CustomerID)
고객 -- 법인고객: primary_key(CustomerID) -- foreign_key(CustomerID)
개인고객 -- 정회원: primary_key(IndividualCustomerID) -- foreign_key(IndividualCustomerID)
개인고객 -- 간편회원: primary_key(IndividualCustomerID) -- foreign_key(IndividualCustomerID)
법인고객 -- 법인고객직원: primary_key(CorporateCustomerID) -- foreign_key(CorporateCustomerID)
법인고객 -- 법인우대혜택: primary_key(CorporateCustomerID) -- foreign_key(CorporateCustomerID)
고객 -- 고객식별: primary_key(CustomerID) -- foreign_key(CustomerID)
고객 -- 선호비행정보: primary_key(CustomerID) -- foreign_key(CustomerID)
고객 -- PNR: primary_key(CustomerID) -- foreign_key(CustomerID)
PNR -- PAX: primary_key(PNR_ID) -- foreign_key(PNR_ID)
PAX -- 부가서비스예약내역: primary_key(PAX_ID) -- foreign_key(PAX_ID)
PAX -- SSR: primary_key(PAX_ID) -- foreign_key(PAX_ID)
PAX -- 티켓: primary_key(PAX_ID) -- foreign_key(PAX_ID)
티켓 -- 결제수단: primary_key(TicketID) -- foreign_key(TicketID)
티켓 -- 환불: primary_key(TicketID) -- foreign_key(TicketID)
환불 -- 환불결제수단: primary_key(RefundID) -- foreign_key(RefundID)
환불 -- 환불세금: primary_key(RefundID) -- foreign_key(RefundID)
환불 -- 환불운임: primary_key(RefundID) -- foreign_key(RefundID)
SEG -- 부가서비스예약내역: primary_key(SEG_ID) -- foreign_key(SEG_ID)
SEG -- SSR: primary_key(SEG_ID) -- foreign_key(SEG_ID)
SEG -- 티켓: primary_key(SEG_ID) -- foreign_key(SEG_ID)
상품 -- 항공권: primary_key(ProductID) -- foreign_key(ProductID)
상품 -- 부가서비스: primary_key(ProductID) -- foreign_key(ProductID)
상품 -- 제휴상품: primary_key(ProductID) -- foreign_key(ProductID)
상품 -- 액세서리: primary_key(ProductID) -- foreign_key(ProductID)
상품 -- 결합상품: primary_key(ProductID) -- foreign_key(ProductID)
결합상품 -- 결합상품구성상세: primary_key(CombinedProductID) -- foreign_key(CombinedProductID)
공항 -- 터미널: primary_key(AirportID) -- foreign_key(AirportID)
터미널 -- 게이트: primary_key(TerminalID) -- foreign_key(TerminalID)
운항계획 -- 비행편정보: primary_key(FlightPlanID) -- foreign_key(FlightPlanID)
비행편정보 -- 좌석등급: primary_key(FlightInfoID) -- foreign_key(FlightInfoID)
좌석등급 -- 운임: primary_key(CabinClassID) -- foreign_key(CabinClassID)
운임 -- 할인: primary_key(FareID) -- foreign_key(FareID)
비행편정보 -- 기내서비스: primary_key(FlightInfoID) -- foreign_key(FlightInfoID)
기내서비스 -- 기내식: primary_key(InflightServiceID) -- foreign_key(InflightServiceID)
기내서비스 -- 기내엔터테인먼트: primary_key(InflightServiceID) -- foreign_key(InflightServiceID)
항공사 -- 코드공유: primary_key(AirlineID) -- foreign_key(OperatingAirlineID)
항공사 -- 코드공유: primary_key(AirlineID) -- foreign_key(MarketingAirlineID)
직원 -- 승무원: primary_key(EmployeeID) -- foreign_key(EmployeeID)
직원 -- 조종사: primary_key(EmployeeID) -- foreign_key(EmployeeID)

@enduml
