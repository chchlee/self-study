
## 1.2.2. 서블릿

`서블릿(Servlet)`은 클라이언트가 웹 브라우저를 통해 요청하면 서버에서 실행한 후 결괏값만 클라이언트에 전송한다. 또한, HTTP 프로토콜로 통신하는 웹 특징과 속성들을 자유롭게 활용할 수 있는 API를 제공함으로써, 클라이언트의 요청과 서버의 응답에 관한 처리 작업을 쉽게 할 수 있다.

`한줄 요약` - 클라이언트가 어떠한 요청을 하면 그에 대한 결과를 재 전송해주는 자바 프로그램

## 1.2.3. JSP

서블릿과 거의 동일한 기술이지만, 차이가 있다면 서블릿은 완전히 자바로 구현해야 하지만 JSP는 HTML 안에서 스크립트 형태로 구현된다. 또한, 일부 서블릿 객체는 변수 선언과 초기화 작업 없이 바로 사용해서 코드가 훨씬 간단해 질 수 있다. 내부에서 코드가 간단히 구현되기 때문
또한, 웹 애플리케이션에서 서블릿은 `컨트롤러(Controller)` 페이지를 만들 때 사용, JSP는 `뷰(View)`를 만들 때 사용한다.

`컨트롤러(Controller)`란? - 뷰에서 들어온 요청을 받아서 처리하는 페이지가 컨트롤러 페이지이다.


### 1.3.1.2. 웹 애플리케이션

### 1.3.1.3. 웹 서비스

네트워크상에 분산된 자원들을 이기종 간에 서로 연동하여 자원을 공유하기 위한 추상적인 서비스.

#### SOAP 기반 웹 서비스

SOAP 기반 웹 서비스는 SOA(Service Oriented Architecture) 개념을 실현하기 위한 대표적인 기술이다.
서비스 제공자가 공유 혹은 서비스하려는 자원을 UDDI라는 전역 서비스 저장소에 등록하여 공개하면, 서비스 요청자가 검색한 후 서비스 제공자와 HTTP의 응용 프로토콜인 SOAP를 이용하여 메시지를 주고받는 방식이다.

서비스 제공자와 요청자가 주고받는 SOAP 메시지는 SOAP 봉투(envelope), SOAP 헤더와 SOAP 몸체로 구성된 `하나의 XML 문서`로 표현된다. 이것은 HTTP로 전달되므로 크기가 크며, 송수신 시 헤더와 몸체를 인코딩/디코딩해야 하는 작업을 거쳐야 한다.

<div align="center">
  <img src="https://user-images.githubusercontent.com/97272787/229504423-5615cd11-04ce-4fb4-aa06-414e81d06966.png">
</div>

#### RESTful 기반 웹 서비스

RESTful 웹 서비스는 ROA(Resource Oriented Architecture) 개념을 실현하기 위한 리소스 중심의 표현, 전달, 접근 방식의 기술이다. RESFful 웹 서비스는 상호 연동을 위한 서비스를 등록하기 위한 저장소가 따로 필요하지 않으며, 단순하 서버와 클라이언트로만 분리되어 있다. 따라서 리소스 접근을 위해 단순 URI로 표현하며, HTPT의 요청방식인 GET, POST, PUT, DELETE로만 접근할 수 있다. RESTful 기반의 웹 서비스의 리소스는 HTTP 요청방식으로 서비스되므로 클라이언트에서 XML, JSON, HTML, 텍스트, 이미지 등 원하는 형식으로 표현할 수 있다.

<div align="center">
  <img src="https://user-images.githubusercontent.com/97272787/229505805-22b576fe-9007-4886-a871-a777b6eef5a5.png">
</div>

### 1.3.2. 웹서버와 웹 애플리케이션 서버

<div align="center">
<img src="https://user-images.githubusercontent.com/97272787/229506034-8b5984f6-9086-479a-8988-0c0824118d32.png">
</div>

#### 톰캣(Tomcat)

톰캣은 일반 상용 WAS 처럼 Java EE의 모든 스펙을 가진 것이 아니라 `JSP와 서블릿을 실행하는 컨테이너`와 `웹서버`만 제공한다. 톰캣에서 제공하는 웹서버의 기능은 아주 기본적인 기능만을 하므로 일반적으로 독립적인 웹서버를 설치한 후 톰캣과 연동하여 실행하는 구조로 구축하는 경우가 많다.

## 1.3.3. 컨테이너

웹 컴포넌트를 저장하는 저장소 역할, 메모리 로딩, 객체 생성 및 초기화 등 `서블릿의 생명주기를 관리`하고 JSP를 서블릿으로 변환하는 기능을 수행하는 프로그램.

### 1.3.3.1. 서블릿 컨테이너

서블릿을 수행하려면 다음과 같은 환경을 구성해야 한다.

- 자바 수행 환경
- 웹서버
- 서블릿 컨테이너

서블릿 컨테이너는 클라이언트의 요청에 따라 서블릿을 수행하는 프로그램이다.

### 1.3.3.2. JSP 컨테이너

JSP 컨테이너는 JSP를 서블릿으로 변환하는 프로그램. JSP 컨테이너 역시 서블릿으로 구현된 프로그램이다.

<div align="center">
<img src="https://user-images.githubusercontent.com/97272787/229387649-173116c3-e3a7-4069-9209-b34904aac3dc.png">
</div>

## 1.4 HTTP 프로토콜의 이해

### 1.4.1 HTTP란?

HTTP는 TCP/IP 4계층(애플리케이션 계층, 트랜스포트 계층, 네트워크 계층, 링크 계층) 중 애플리케이션 계층에 해당하는 프로토콜로서, 전송 계층에서 TCP를 사용하여 웹 브라우저와 웹 서버 간에 통신하는 프로토콜이다.

<div align="center">
<img src="https://user-images.githubusercontent.com/97272787/229509171-f46d7265-a716-4b38-9c68-35759657292a.png">
</div>

#### 무연결(Connectionless)

HTTP는 연결을 유지하지 않은 상태로 데이터를 주고받을 수 있다.(?) HTTP는 클라이언트로부터 요청이 들어와 서버가 응답하면 클라이언트와 서버의 연결을 끊고 클라이언트가 새로 요청하면 또 다른 연결을 맺는다. 이때의 연결은 이전과는 아무 상관이 없는 새로운 연결이다.

#### 무상태(Stateless)

HTTP는 무연결 특징이 있어서 요청이 있을 떄마다 독립적인 트랜잭션으로 취급하기 때문에 이전 연결에서 했던 작업내용을 다음 요청에서 그대로 사용할 수 없다. 이처럼 요청마다 서로 다른 연결로 인식되어 요청 간에 정보를 공유해서 그대로 사용할 수 상태, 즉 상태정보가 유지되지 않는 특성을 무상태(Stateless)라 한다.

### 1.4.2 HTTP 요청정보

HTTP 요청정보는 웹 클라이언트가 웹서버에 서비스를 요청하면 HTTP에 의하여 자동으로 만들어져 서비스를 요청받은 웹서버에 전달된다. 웹 클라이언트가 서비스를 요청한다는 것은 웹 브라우저 주소줄에 URL을 입력한 후 엔터 키를 누르거나 웹 브라우저 화면의 링크 또는 버튼을 클릭하는 동작을 말한다.

<div align="center">
<img src="https://user-images.githubusercontent.com/97272787/229510668-63c973b4-a7ff-42ad-aad4-33d43559cc9c.png">
</div>

HTTP 요청정보는 크게 헤더와 몸체로 구성되며 헤더의 가장 첫 번째 줄은 요청 줄로 3개의 정보가 들어간다.

```
GET /edu/index.html HTTP/1.1
요청방식 URI HTTP 버전
그리고 헤더 (name : content) 가 있고
헤더의 정보가 끝난 다음에는 body가 있다.
```

#### GET

GET 방식의 요청은 브라우저에서 캐시(cache)가 가능하며 클라이언트가 서버로 전송하는 문자열이 있을 때는 요청정보 헤더의 요청 줄에 포함되는 URI 뒤에 ? 기호와 함께 추가되어 전달된다. 헤더에 포함되므로 전달되는 문자열의 크기에 제한이 있다.

#### POST

데이터가 HTTP 요청정보의 몸체에 포함되어 전달된다. 따라서 데이터 크기에 제한이 없고 화면에 노출되지 않는다.